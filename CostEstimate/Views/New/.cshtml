
@model CostEstimate.Models.Common.Class
@{
    //string _Permission = User.Claims.FirstOrDefault(s => s.Type == "Permission").Value;
    string _NickName = User.Claims.FirstOrDefault(s => s.Type == "NICKNAME")?.Value;
    string _Name = User.Claims.FirstOrDefault(s => s.Type == "Name")?.Value;
    string _SurName = User.Claims.FirstOrDefault(s => s.Type == "SurName")?.Value;
    string _Division = User.Claims.FirstOrDefault(s => s.Type == "Division")?.Value;
    string _Section = User.Claims.FirstOrDefault(s => s.Type == "Section")?.Value;

}
<link href="~/css/Home/siteHome.css" rel="stylesheet" />
<div style="width:100%;">
    <div id="divSearchMain" style="margin-inline: auto;border: 0px solid white; background-color: aliceblue;padding:10px;border-radius:2px;">
        <div class="row center">
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5 " style=" display: flex;align-items: center;background-color:#cbeff7;">
                    <div class="grid-item fw-800 center " style="text-align:left;font-size:12px">Order No.</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off" asp-for="_ViewceDetailSubMakerRequest.dsOrderNo" id="i_New_OrderNo">
                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;">
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">
                </div>
                <div class="col-5 " style="">

                </div>
            </div>
            <div class="row center">
                <div class="col-5 " style="">
                </div>
                <div class="col-20 border1_5 " style=" display: flex;align-items: center;background-color:#cbeff7;">
                    <div class="grid-item fw-800 center " style="text-align:left;font-size:12px">Lot No.</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control" id="searchdsLotNo" style="font-size:13px" autocomplete="off" />

                    @*@Html.DropDownListFor(m => m._ViewceDetailSubMakerRequest.dsLotNo, (SelectList)ViewBag.vbformMaster_Mold_Control, "กรุณาเลือก", new { @class = "form-control", id = "ipCodeDept", autocomplete = "off", @style = "width:100%;font-size:13px" })*@
                    @*<input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">*@
                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Revision.</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>
            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Customer Name</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center; background-color:#cbeff7">
                    <div class="grid-item fw-800 center" style="text-align:left;">Mold Name</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>
            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center; background-color:#cbeff7">
                    <div class="grid-item fw-800 center" style="text-align:left;">Model Name </div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Cavity No.</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>

            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Function</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center; background-color:#cbeff7">
                    <div class="grid-item fw-800 center" style="text-align:left;">Development Stage</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">
                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>


            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Date Issue</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">
                    @*<label></label>*@
                    <input type="text" id="i_New_SDate" class="input-with-image form-control  text-black" style="width:80%;font-size:10px;text-align: center" autocomplete="off" readonly>

                </div>

                <div class="col-20 border1_5" style=" display: flex;align-items: center; background-color:#cbeff7">
                    <div class="grid-item fw-800 center" style="text-align:left;">Mold No.</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">

                    <input type="text" class="form-control left" style="width:100%;height:80%" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>

            </div>

            <div class="row center">
                <div class="col-10 " style="">

                </div>
                <div class="col-80" style="">
                    <hr style="border:1px solid black" />
                </div>
                <div class="col-10" style="">

                </div>
            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Material Out / Date</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">

                    <input type="text" class="input-with-image datepicker  form-control center" style="width:100%" autocomplete="off">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center; background-color:#cbeff7">
                    <div class="grid-item fw-800 center" style="text-align:left;">Time (ทุกครึ่งชั่วโมง)</div>
                </div>
                <div class="col-25 " style=" display: flex;align-items: center; ">

                    <input type="text" class="input-with-image Timepicker  form-control center" style="width:100%" autocomplete="off">

                </div>
                <div class="col-5 " style="">

                </div>

            </div>
            <div class="row center">
                <div class="col-5 " style="">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7 ">
                    <div class="grid-item fw-800 center" style="text-align:left;">Delivery/Date</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">

                    <input type="text" class="input-with-image datepicker  form-control center" style="width:100%" autocomplete="off">

                </div>
                <div class="col-20 border1_5" style=" display: flex;align-items: center;background-color:#cbeff7;">

                    <div class="grid-item fw-800 center" style="text-align:left;">Time (ทุกครึ่งชั่วโมง)</div>
                </div>
                <div class="col-25" style=" display: flex;align-items: center; ">
                    <input type="text" class="input-with-image datepicker  form-control center" style="width:100%;" autocomplete="off">
                </div>
                <div class="col-5 " style="">

                </div>

            </div>

        </div>


    </div>
</div>
<script type="text/javascript">
    //window.addEventListener("load", (event) => {
    //    console.log("wwwwwwwwwww");
    //});


        $(function () {
            function split(val) {
                return val.split(/,\s*/);
            }
            function extractLast(term) {
                return split(term).pop();
            }

            $("#searchdsLotNo")
           //don't navigate away from the field on tab when selecting an item
                 .on("keydown", function (event) {
                     console.log("OK");
              if (event.keyCode === $.ui.keyCode.TAB &&
                  $(this).autocomplete("instance").menu.active) {
                  console.log("OK1");
                  event.preventDefault();
              }
          })
            .autocomplete({
                minLength: 1,
                source: function (request, response) {
                    $.getJSON('@Url.Action("SearchMold_Ledger_Number", "New")', {
                        term: extractLast(request.term)
                    }, response);
                },
                focus: function () {
                     //prevent value inserted on focus
                    return false;
                },
                select: function (event, ui) {
                    const email365 = ui.item.value;
                    //let email365 = myArray[0];
                    console.log("test" + email365);

                    var terms = split(this.value);
                     //remove the current input
                    terms.pop();
                     //add the selected item

                    //terms.push(ui.item.value);
                    terms.push(email365);
                     //add placeholder to get the comma-and-space at the end
                    terms.push("");
                    this.value = terms.join("");
                    return false;
                }
            });
    })




</script>