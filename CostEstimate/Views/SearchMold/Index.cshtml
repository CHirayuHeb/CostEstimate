@model CostEstimate.Models.Common.Class;
@{
    ViewData["Title"] = "Search | Thai Stanley";
    //Layout = "~/Views/Shared/_MenuBar.cshtml";
    Layout = "~/Views/Shared/_MenuBar_mold.cshtml";
}
<link href="~/css/Home/siteHome.css" rel="stylesheet" />


<script type="text/javascript">document.onreadystatechange = () => { if (document.readyState === "interactive") { PositionY("SearchMold"); } }</script>
<div class="home-content">
    <div id="DisplayContent" class="content-box">
        <div class="row center">
            <div class="col-70 ">
            </div>
            <div class="col-15" style="text-align:right">

            </div>

            <div class="col-15" style="text-align:right">
                <button class="button btnBrown " style="width:auto" onclick="GoSideMenuNewRequest('NewMoldModify')">
                    <img src="~/images/tool.png" style="width:35px;height:26px;padding-right:5px;margin-right:8px;margin-top: 2px;margin-bottom: 2px;font-size:10px" />
                    New Mold Modify
                </button>
            </div>
        </div>
        @using (Html.BeginForm("Index", "SearchMold", FormMethod.Post, new { enctype = "multipart/form-data", id = "formSearch", name = "formSearch" }))
        {
            <div style="" class="content-text">
                @*<div style="min-height: 600px;max-height:600px;overflow-y: auto;padding:0px;border:0px solid white;scrollbar-color: #c9c3f0 white;">*@

                <div style="width:100%;">
                    <div id="divSearchMain" style="margin-inline: auto;border: 0px solid #a39e9e; background-color: aliceblue;padding:15px;border-radius:2px;">
                        <div style="text-align:right">
                            @*formaction="@Url.Action("btnExportExcel", "SearchMold")"*@
                            <button type="submit"
                                    formaction="@Url.Action("btnExportExcel", "SearchMold")"
                                    formmethod="post"
                                    style="margin-right:5px;font-size:10px;width:100px"
                                    class="button">
                                <img src="~/images/excel.png"
                                     style="width:35px;height:26px;padding-right:5px;margin-right:8px;margin-top: 2px;margin-bottom: 2px;" />
                                Excel
                            </button>
                        </div>
                        <div style=" display: flex;margin-top:6px;margin-bottom:6px ">
                            <div class="grid-item fw-800 center" style="font-size:22px">ค้นหาข้อมูล</div>
                        </div>

                        <div class="row center">
                            <div class="row center">
                                <div class="col-5 " style="">
                                </div>
                                <div class="col-20 border1_5brown " style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center " style="text-align:left;font-size:12px">Document No</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_DocumentNo">
                                </div>
                                <div class="col-20 border1_5brown " style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Reference No.</div>
                                </div>
                                <div class="col-25" style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_OrderNo">
                                </div>
                                <div class="col-5 " style="">

                                </div>
                            </div>
                            <div class="row center">
                                <div class="col-5 " style="">
                                </div>
                                <div class="col-20 border1_5brown " style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center " style="text-align:left;font-size:12px">Lot No.</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_LotNo">
                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Revision.</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:45%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_Revision">
                                    <span style="margin-left:10px;color:blue">*EX 00</span>
                                </div>
                                <div class="col-5 " style="">

                                </div>
                            </div>
                            <div class="row center">
                                <div class="col-5 " style="">

                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Customer Name</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_CusName">
                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Mold No. / Mold Name.</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_MoldName">
                                </div>
                                <div class="col-5 " style="">

                                </div>
                            </div>
                            <div class="row center">
                                <div class="col-5 " style="">

                                </div>
                                <div class="col-20 border1_5brown " style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center " style="text-align:left;font-size:12px">Model Name</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_ModelName">
                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Status.</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    @Html.DropDownListFor(m => m._ViewSearchData.v_status, (SelectList)ViewBag.vbformStatus, "กรุณาเลือก", new { @class = "form-control", id = "ipStatus", autocomplete = "off", @style = "width:100%;font-size:12px" })
                                </div>
                                <div class="col-5 " style="">

                                </div>
                            </div>

                            <div class="row center">
                                <div class="col-5 " style="">

                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Mold Mass</div>
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_MoldMass">
                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Type of Cavity</div>
                                </div>
                                <div class="col-25" style=" display: flex;align-items: center; ">
                                    @Html.DropDownListFor(m => m._ViewSearchData.v_TypeofCavity, (SelectList)ViewBag.TypeofCavity, "กรุณาเลือก", new { @class = "form-control", id = "ipStatus", autocomplete = "off", @style = "width:100%;font-size:12px" })

                                    @*<input type="text" class="form-control center" style="width:100%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_TypeofCavity">*@

                                </div>
                                <div class="col-5 " style="">

                                </div>

                            </div>
                            <div class="row center">
                                <div class="col-5 " style="">

                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Issue/Date (from)</div>
                                </div>
                                <div class="col-25" style=" display: flex;align-items: center; ">

                                    <input type="text" class="input-with-image Searchdatepicker  form-control center" style="width:100%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_DateIssueFrom">

                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">

                                    <div class="grid-item fw-800 center" style="text-align:left;">Issue/Date (To)</div>
                                </div>
                                <div class="col-25" style=" display: flex;align-items: center; ">
                                    <input type="text" class="input-with-image Searchdatepicker  form-control center" style="width:100%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_DateIssueTo">
                                </div>
                                <div class="col-5 " style="">

                                </div>

                            </div>
                            <div class="row center">
                                <div class="col-5 " style="">

                                </div>
                                <div class="col-20 border1_5brown" style=" display: flex;align-items: center;">
                                    <div class="grid-item fw-800 center" style="text-align:left;">Function</div>
                                </div>
                                <div class="col-25" style=" display: flex;align-items: center; ">
                                    <input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_Function">
                                </div>
                                <div class="col-20 " style=" display: flex;align-items: center;">
                                    @*<div class="grid-item fw-800 center" style="text-align:left;">Development Stage</div>*@
                                </div>
                                <div class="col-25 " style=" display: flex;align-items: center; ">
                                    @*<input type="text" class="form-control left" style="width:100%;height:80%;font-size:12px" autocomplete="off" asp-for="_ViewSearchData.v_DevelopmentStage">*@
                                </div>
                                <div class="col-5 " style="">

                                </div>


                            </div>

                            <br />






                        </div>


                    </div>
                </div>
                <div class="row center">
                    <div class="col-30 ">
                    </div>
                    <div class="col-40 ">
                        <button class="button btnBrown" style="width:auto">
                            <img src="~/images/search.png" style="width:30px;height:26px;padding-right:1.5px;margin-right:8px;margin-top: 2px;margin-bottom: 2px;" />
                            SEARCH
                        </button>
                    </div>
                    <div class="col-30 " style="text-align:right">


                    </div>
                    @*<input type="button" style="font-size:18px" value="&#x1F50E;" onclick="GoNewRequest('@item.srRequestBy','Edit','@Url.Action("Index", "RequestForm")','@item.srFrom','@item.srType','@item.srSubject','@item.srNo')">*@
                    @*<input type="button" style="font-size:18px" value="New Sub Maker Request Sheet " class=" btn-login">*@
                    @*<button class="button" style="@( (@_UserId == @Model._ViewsvsServiceRequest.srRequestBy || @_UserId == @Model._ViewsvsServiceRequest.srApproveEmpcode) && Model._ViewsvsServiceRequest.srStep >2 && Model._ViewsvsServiceRequest.srStep < 5 ? "width:100px; " : "display:none;")" onclick="savesubmit('@Url.Action("SavePageForm","RequestForm")')">
                            <img src="~/images/save_1.png" style="width:30px;height:26px;padding-right:5px;margin-right:8px;margin-top: 2px;margin-bottom: 2px;" />
                            บันทึก
                        </button>*@


                </div>
                <div class="row">
                    <div class="col-30 ">
                        <label style="font-size:14px;font-weight:600">
                            จำนวน
                            <span style="color:royalblue">
                                @Model._ListViewceMastModifyRequest.Count
                                @*@ViewBag.Listcount*@
                            </span>
                            แถว
                        </label>
                    </div>
                    <div class="col-20 fw-800"></div>
                    <div class="col-50" style="">
                        <!-- Pagination Section -->
                        @*<div class="pagination" style="text-align:right">


                                @if (ViewBag.CurrentPage > 1)
                                {
                                    <a href="@Url.Action("Index", new { page = ViewBag.CurrentPage - 1, @class = ViewData.Model })" class="prev">&laquo; Previous</a>
                                }

                                @for (int i = ViewBag.StartPage; i <= ViewBag.EndPage; i++)
                                {
                                    <a href="@Url.Action("Index", new { page = i, @class = ViewData.Model })" class="@(i == ViewBag.CurrentPage ? "active" : "")">@i</a>
                                }

                                @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                                {
                                    <a href="@Url.Action("Index", new { page = ViewBag.CurrentPage + 1, @class = ViewData.Model })" class="next">Next &raquo;</a>
                                }


                            </div>*@
                    </div>
                </div>


                @*<div class="grid-item fw-800" style="text-align:left;padding-left:10px">
                        <label style="font-size:14px">
                            จำนวน
                            @if (Model._ListceMastSubMakerRequest != null)
                            {
                                <span style="color:royalblue">
                                    @Model._ListceMastSubMakerRequest.Count
                                </span>
                            }
                            else
                            {
                                <span style="color:royalblue">
                                    0
                                </span>
                            }
                            แถว

                        </label>
                    </div>*@
                <div class="row center" style="background-color:aliceblue">
                    <div class="col-5 " style="">

                    </div>
                    <div class="col-90 " style="border:0px solid gray;padding:10px">

                        <div class="row center" style="">

                            <div class="col-100 table-container" style="align-items: center; ">
                                <table class="tbbrown">
                                    <thead>
                                        <tr>
                                            <th style="text-align:center">No.​</th>
                                            <th style="text-align:center;">Reference No.​</th>
                                            <th style="text-align:center;">Order No.​</th>
                                            <th style="text-align:center">Lot No.​</th>
                                            <th style="text-align:center">Customer Name​</th>
                                            <th style="text-align:center">Rev. No​</th>
                                            <th style="text-align:center">Model Name</th>
                                            <th style="text-align:center">Function</th>
                                            <th style="text-align:center">Mold Mass​</th>
                                            <th style="text-align:center">Mold No/Mold Name.​</th>
                                            <th style="text-align:center">Type Cavity</th>
                                            <th style="text-align:center">Lead Time</th>
                                            <th style="text-align:center">Issue By,Date</th>
                                            @*<th style="text-align:center">Material Out/Date​</th>
                                                <th style="text-align:center">Delivery/Date​</th>*@
                                            <th style="text-align:center">Waiting Approve​</th>
                                            <th style="text-align:center">Status​</th>
                                            <th style="text-align:center">Action​</th>
                                        </tr>
                                    </thead>



                                    @if (Model._ListViewceMastModifyRequest != null)
                                    {
                                        var row = 0;
                                        @foreach (var item in @Model._ListViewceMastModifyRequest)
                                        {
                                            <tr>
                                                <td> <tlabel>@(row += 1)</tlabel></td>

                                                <td style="text-align:center">@item.mfCENo</td>
                                                <td style="text-align:center">@item.mfRefNo</td>
                                                <td style="text-align:center">@item.mfLotNo​</td>
                                                <td style="text-align:center">@item.mfCustomerName</td>
                                                <td style="text-align:center">@item.mfRevision</td>
                                                <td style="text-align:center">@item.mfModelName</td>
                                                <td style="text-align:center">@item.mfFunction</td>
                                                <td style="text-align:center">@item.mfMoldMass</td>
                                                <td style="text-align:center">@item.mfMoldNoOrMoldName</td>
                                                <td style="text-align:center">@item.mfTypeCavity</td>
                                                <td style="text-align:center">@item.mfLeadTime</td>
                                                <td style="text-align:center">@item.mfEmpCodeRequest @item.mfNameRequest @item.mfIssueDate</td>
                                                @*<td style="text-align:center">@item.smMatOutDate @item.smMatOutTime</td>
                                                    <td style="text-align:center">@item.smDeliveryDate   @item.smDeliveryTime</td>*@
                                                <td style="text-align:center">
                                                    @if (@item.mfStep < 6)
                                                    {
                                                        @item.mfEmpCodeApprove
                                                        <span></span>
                                                        @item.mfNameApprove
                                                    }
                                                </td>
                                                <td style="text-align:center">
                                                    @*@item.smStep*@
                                                    @if (@item.mfStep == 0 && @item.mfStatus.Contains("Disapprove"))
                                                    {<img src="~/images/stepDis.png" alt="icon" style="height: 25px; width: 25px;" />}
                                                    else if (@item.mfStep == 0) /*//new*/
                                                    {
                                                        @*<img src="~/images/1.png" alt="icon" style="height: 23px; width: 23px;" />*@

                                                        <img src="~/images/draft2.png" alt="icon" style="height: 30px; width: 30px;" />
                                                    }
                                                    else if (@item.mfStep == 1)
                                                    { <img src="~/images/2.png" alt="icon" style="height: 23px; width: 23px;" /> }
                                                    else if (@item.mfStep == 2)
                                                    { <img src="~/images/3.png" alt="icon" style="height: 23px; width: 23px;" />}
                                                    else if (@item.mfStep == 3)/*//issue*/
                                                    { <img src="~/images/4.png" alt="icon" style="height: 23px; width: 23px;" />}
                                                    else if (@item.mfStep == 4)
                                                    { <img src="~/images/5.png" alt="icon" style="height: 23px; width: 23px;" />}
                                                    else if (@item.mfStep == 5)
                                                    { <img src="~/images/6.png" alt="icon" style="height: 23px; width: 23px;" />}
                                                    @*else if (@item.mfStep == 6)
                                                        { <img src="~/images/7.png" alt="icon" style="height: 23px; width: 23px;" />}*@
                                                    else if (@item.mfStep == 6)
                                                    { <img src="~/images/f1.png" alt="icon" style="height: 25px; width: 25px;" />}

                                                </td>

                                                <td style="text-align:center">
                                                    @if (@item.mfStep == 6)
                                                    {
                                                        <img src="~/images/revision.png" alt="icon" onclick="GoNewMoldRevision('@item.mfCENo','@item.mfRevision')" class="imgM" />

                                                    }
                                                    <input type="button" style="font-size:18px" value="&#x1F50E;" onclick="GoNewMoldRequest('@item.mfCENo')">
                                                </td>
                                            </tr>

                                        }

                                    }

                                </table>


                            </div>


                        </div>

                    </div>
                    <div class="col-5 " style="">

                    </div>
                </div>
            </div>
        }
    </div>

</div>