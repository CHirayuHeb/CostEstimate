#pragma checksum "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "23cb026728fbdc18302c5b81adf7510f9bd8bcf0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Approval__DisplayNewlate), @"mvc.1.0.view", @"/Views/Approval/_DisplayNewlate.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Approval/_DisplayNewlate.cshtml", typeof(AspNetCore.Views_Approval__DisplayNewlate))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\_ViewImports.cshtml"
using CostEstimate;

#line default
#line hidden
#line 2 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
using CostEstimate.Models.Common;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"23cb026728fbdc18302c5b81adf7510f9bd8bcf0", @"/Views/Approval/_DisplayNewlate.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"03cd043d7b3157285994f12141f5133e7c84d925", @"/Views/_ViewImports.cshtml")]
    public class Views_Approval__DisplayNewlate : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<CostEstimate.Models.Approval.MultiNewLate>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
  string permission = User.Claims.FirstOrDefault(s => s.Type == "Permission").Value;
    string position = User.Claims.FirstOrDefault(s => s.Type == "Position").Value;

#line default
#line hidden
            BeginContext(256, 80, true);
            WriteLiteral("<div class=\"just-group\">\r\n    <div class=\"table-result wx-100 fs-16 bg-trans\">\r\n");
            EndContext();
#line 8 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
         if (permission.ToUpper() == GlobalVariable.perAdmin.ToUpper() || position.ToUpper() == GlobalVariable.spDM)
        {

#line default
#line hidden
            BeginContext(604, 674, true);
            WriteLiteral(@"            <div class=""d-flex"">
                <div class=""d-flex flex-dir-row hy-100 py-0"">
                    <input class=""w-rem-1 h-rem-1 chck-all-manage"" id=""CheckAllItem"" type=""checkbox"" />
                    <label for=""CheckAllItem"" class=""text-gray fs-16 w-fix-30p h-fix-30p form-check-label mx-1"">ทั้งหมด</label>
                </div>
                <div class=""d-flex flex-dir-row hy-100 py-0"">
                    <button class=""bd-0 bg-trans ms-3 px-2 w-fix-70p fw-800 text-gray approveseleted"" data-bs-target=""#modalEmailForm"" data-bs-toggle=""modal"" title=""อนุมัติ"">อนุมัติ</button>
                </div>
            </div>
            <hr />
");
            EndContext();
#line 20 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
        }

#line default
#line hidden
            BeginContext(1289, 81, true);
            WriteLiteral("\r\n        <div class=\"container wx-100 d-flex flex-dir-col\">\r\n            <div>\r\n");
            EndContext();
#line 24 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                 if (Model.docList.Count > 0)
                {
                    foreach (string OTDate in Model.docList.Select(s => s.requestOT.mrOTDate).Distinct().OrderBy(o => o))
                    {
                        string collpaseID = OTDate.Split("/")[2] + OTDate.Split("/")[1] + OTDate.Split("/")[0];

#line default
#line hidden
            BeginContext(1695, 242, true);
            WriteLiteral("                <div class=\"striped\">\r\n                    <div class=\"d-flex item-center py-2 text-gray bg-white my-1 border-rad\">\r\n                        <div class=\"wx-100\" role=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapse");
            EndContext();
            BeginContext(1939, 10, false);
#line 31 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                                         Write(collpaseID);

#line default
#line hidden
            EndContext();
            BeginContext(1950, 23, true);
            WriteLiteral("\" aria-expanded=\"false\"");
            EndContext();
            BeginWriteAttribute("aria-controls", " aria-controls=\"", 1973, "\"", 2012, 2);
            WriteAttributeValue("", 1989, "collapseSub_", 1989, 12, true);
#line 31 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 2001, collpaseID, 2001, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2013, 115, true);
            WriteLiteral(">\r\n                            <div class=\"dp-block fw-800\">\r\n                                <div class=\"px-2 fl\">");
            EndContext();
            BeginContext(2129, 6, false);
#line 33 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                Write(OTDate);

#line default
#line hidden
            EndContext();
            BeginContext(2135, 8, true);
            WriteLiteral("</div>\r\n");
            EndContext();
            BeginContext(2502, 152, true);
            WriteLiteral("                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fs-14 col-test collapse\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 2654, "\"", 2680, 2);
            WriteAttributeValue("", 2659, "collapse", 2659, 8, true);
#line 42 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 2667, collpaseID, 2667, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2681, 3, true);
            WriteLiteral(">\r\n");
            EndContext();
#line 43 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                         foreach (string partSection in Model.docList.Where(w => w.requestOT.mrOTDate == OTDate).Select(s => s.requestOT.mrSecReq).Distinct().OrderBy(o => o))
                        {
                            int calcWorker = 0, sumOTMinute = 0;
                            string sumHour = "";
                            

#line default
#line hidden
#line 47 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                             foreach (var doc in Model.docList.Where(w => w.requestOT.mrSecReq == partSection && w.requestOT.mrOTDate == OTDate))
                            {
                                int minuteST = 0, minuteED = 0;

                                if ((doc.requestOT.mrOTTimeSt_Before != null && doc.requestOT.mrOTTimeSt_Before != "") && (doc.requestOT.mrOTTimeEd_Before != null && doc.requestOT.mrOTTimeEd_Before != ""))
                                {
                                    minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_Before.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_Before.Split(":")[1]);
                                    minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_Before.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_Before.Split(":")[1]);
                                }
                                if ((doc.requestOT.mrOTTimeSt_During != null && doc.requestOT.mrOTTimeSt_During != "") && (doc.requestOT.mrOTTimeEd_During != null && doc.requestOT.mrOTTimeEd_During != ""))
                                {
                                    minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_During.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_During.Split(":")[1]);
                                    minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_During.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_During.Split(":")[1]);
                                }
                                if ((doc.requestOT.mrOTTimeSt_After != null && doc.requestOT.mrOTTimeSt_After != "") && (doc.requestOT.mrOTTimeEd_After != null && doc.requestOT.mrOTTimeEd_After != ""))
                                {
                                    minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_After.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_After.Split(":")[1]);
                                    minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_After.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_After.Split(":")[1]);
                                }

                                calcWorker = doc.workerList.Where(w => w.drStatus == null || !w.drStatus.StartsWith(GlobalVariable.StatusRejected)).Count();
                                if (minuteED < minuteST)
                                {
                                    sumOTMinute += ((((24 * 60) - minuteST) + minuteED) * calcWorker);
                                }
                                else
                                {
                                    sumOTMinute += ((minuteED - minuteST) * calcWorker);
                                }
                                string minuteString = sumOTMinute % 60 == 0 ? "" : (sumOTMinute % 60).ToString() + " นาที";
                                sumHour = (sumOTMinute / 60).ToString() + " ชั่วโมง " + minuteString;
                            }

#line default
#line hidden
            BeginContext(5960, 201, true);
            WriteLiteral("                            <div class=\"d-flex item-center py-2 bg-white text-gray my-1 border-rad section-header\">\r\n                                <div class=\"d-flex flex-dir-row hy-100 ps-3 py-0\">\r\n");
            EndContext();
#line 82 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                     if (permission.ToUpper() == GlobalVariable.perAdmin.ToUpper() || position.ToUpper() == GlobalVariable.spDM)
                                    {

#line default
#line hidden
            BeginContext(6346, 99, true);
            WriteLiteral("                                        <input type=\"checkbox\" class=\"w-rem-1 h-rem-1 chck-section\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 6445, "\"", 6478, 1);
#line 84 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 6453, collpaseID+partSection, 6453, 25, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(6479, 5, true);
            WriteLiteral(" />\r\n");
            EndContext();
#line 85 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                    }

#line default
#line hidden
            BeginContext(6523, 159, true);
            WriteLiteral("\r\n                                </div>\r\n                                <div class=\"wx-100\" role=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapse");
            EndContext();
            BeginContext(6684, 22, false);
#line 88 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                                                 Write(collpaseID+partSection);

#line default
#line hidden
            EndContext();
            BeginContext(6707, 23, true);
            WriteLiteral("\" aria-expanded=\"false\"");
            EndContext();
            BeginWriteAttribute("aria-controls", " aria-controls=\"", 6730, "\"", 6783, 2);
            WriteAttributeValue("", 6746, "collapseSub_", 6746, 12, true);
#line 88 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 6758, collpaseID+partSection, 6758, 25, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(6784, 124, true);
            WriteLiteral(">\r\n                                    <div class=\"dp-block\">\r\n                                        <div class=\"px-2 fl\">");
            EndContext();
            BeginContext(6909, 11, false);
#line 90 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                        Write(partSection);

#line default
#line hidden
            EndContext();
            BeginContext(6920, 69, true);
            WriteLiteral("</div>\r\n                                        <div class=\"px-2 fr\">");
            EndContext();
            BeginContext(6990, 7, false);
#line 91 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                        Write(sumHour);

#line default
#line hidden
            EndContext();
            BeginContext(6997, 128, true);
            WriteLiteral("</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n");
            EndContext();
            BeginContext(7127, 89, true);
            WriteLiteral("                            <div class=\"bg-white border-rad text-gray px-3 py-3 collapse\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 7216, "\"", 7254, 2);
            WriteAttributeValue("", 7221, "collapse", 7221, 8, true);
#line 96 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 7229, collpaseID+partSection, 7229, 25, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(7255, 3, true);
            WriteLiteral(">\r\n");
            EndContext();
#line 97 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                 foreach (var issueby in Model.docList.Where(w => w.requestOT.mrSecReq == partSection && w.requestOT.mrOTDate == OTDate).Select(s => new { s.requestOT.mrNameReq, s.requestOT.mrPositionReq, s.requestOT.mrEmpReq, s.requestOT.mrLastNameReq }).GroupBy(g => new { g.mrEmpReq, g.mrNameReq, g.mrPositionReq, g.mrLastNameReq }).Select(s => s.FirstOrDefault()))
                                {
                                    int calcGLWorker = 0;
                                    int sumGLOTMinute = 0;
                                    string sumGLHour = "";
                                    

#line default
#line hidden
#line 102 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                     foreach (var doc in Model.docList.Where(w => w.requestOT.mrEmpReq == issueby.mrEmpReq && w.requestOT.mrOTDate == OTDate))
                                    {
                                        int minuteST = 0, minuteED = 0;
                                        if ((doc.requestOT.mrOTTimeSt_Before != null && doc.requestOT.mrOTTimeSt_Before != "") && (doc.requestOT.mrOTTimeEd_Before != null && doc.requestOT.mrOTTimeEd_Before != ""))
                                        {
                                            minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_Before.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_Before.Split(":")[1]);
                                            minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_Before.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_Before.Split(":")[1]);
                                        }
                                        if ((doc.requestOT.mrOTTimeSt_During != null && doc.requestOT.mrOTTimeSt_During != "") && (doc.requestOT.mrOTTimeEd_During != null && doc.requestOT.mrOTTimeEd_During != ""))
                                        {
                                            minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_During.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_During.Split(":")[1]);
                                            minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_During.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_During.Split(":")[1]);
                                        }
                                        if ((doc.requestOT.mrOTTimeSt_After != null && doc.requestOT.mrOTTimeSt_After != "") && (doc.requestOT.mrOTTimeEd_After != null && doc.requestOT.mrOTTimeEd_After != ""))
                                        {
                                            minuteST += (int.Parse(doc.requestOT.mrOTTimeSt_After.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeSt_After.Split(":")[1]);
                                            minuteED += (int.Parse(doc.requestOT.mrOTTimeEd_After.Split(":")[0]) * 60) + int.Parse(doc.requestOT.mrOTTimeEd_After.Split(":")[1]);
                                        }
                                        calcGLWorker = doc.workerList.Where(w => w.drStatus == null || !w.drStatus.StartsWith(GlobalVariable.StatusRejected)).Count();
                                        if (minuteED < minuteST)
                                        {
                                            sumGLOTMinute += ((((24 * 60) - minuteST) + minuteED) * calcGLWorker);
                                        }
                                        else
                                        {
                                            sumGLOTMinute += ((minuteED - minuteST) * calcGLWorker);
                                        }
                                        string minuteString = sumGLOTMinute % 60 == 0 ? "" : (sumGLOTMinute % 60).ToString() + " นาที";
                                        sumGLHour = (sumGLOTMinute / 60).ToString() + " ชั่วโมง " + minuteString;
                                    }

#line default
#line hidden
            BeginContext(11072, 232, true);
            WriteLiteral("                                    <div class=\"ps-mb-2 fs-16 border-rad bg-whs dp-grid\">\r\n                                        <div class=\"dp-block \">\r\n                                            <div class=\"px-1 fl hidden-txt\">");
            EndContext();
            BeginContext(11306, 108, false);
#line 134 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                        Write(issueby.mrPositionReq + "(" + issueby.mrEmpReq + " " + issueby.mrNameReq + " " + issueby.mrLastNameReq + ")");

#line default
#line hidden
            EndContext();
            BeginContext(11415, 73, true);
            WriteLiteral("</div>\r\n                                            <div class=\"px-1 fr\">");
            EndContext();
            BeginContext(11489, 9, false);
#line 135 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                            Write(sumGLHour);

#line default
#line hidden
            EndContext();
            BeginContext(11498, 165, true);
            WriteLiteral("</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"clear-b\"></div>\r\n");
            EndContext();
#line 139 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                     foreach (var item in Model.docList.Where(w => w.requestOT.mrSecReq == partSection && w.requestOT.mrEmpReq == issueby.mrEmpReq && w.requestOT.mrOTDate == OTDate))
                                    {

                                        int calcThisDocWorker = 0, sumThisDocOTMinute = 0, minuteST = 0, minuteED = 0;
                                        string sumThisDocHour = "";
                                        if ((item.requestOT.mrOTTimeSt_Before != null && item.requestOT.mrOTTimeSt_Before != "") && (item.requestOT.mrOTTimeEd_Before != null && item.requestOT.mrOTTimeEd_Before != ""))
                                        {
                                            minuteST += (int.Parse(item.requestOT.mrOTTimeSt_Before.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeSt_Before.Split(":")[1]);
                                            minuteED += (int.Parse(item.requestOT.mrOTTimeEd_Before.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeEd_Before.Split(":")[1]);
                                        }
                                        if ((item.requestOT.mrOTTimeSt_During != null && item.requestOT.mrOTTimeSt_During != "") && (item.requestOT.mrOTTimeEd_During != null && item.requestOT.mrOTTimeEd_During != ""))
                                        {
                                            minuteST += (int.Parse(item.requestOT.mrOTTimeSt_During.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeSt_During.Split(":")[1]);
                                            minuteED += (int.Parse(item.requestOT.mrOTTimeEd_During.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeEd_During.Split(":")[1]);
                                        }
                                        if ((item.requestOT.mrOTTimeSt_After != null && item.requestOT.mrOTTimeSt_After != "") && (item.requestOT.mrOTTimeEd_After != null && item.requestOT.mrOTTimeEd_After != ""))
                                        {
                                            minuteST += (int.Parse(item.requestOT.mrOTTimeSt_After.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeSt_After.Split(":")[1]);
                                            minuteED += (int.Parse(item.requestOT.mrOTTimeEd_After.Split(":")[0]) * 60) + int.Parse(item.requestOT.mrOTTimeEd_After.Split(":")[1]);
                                        }
                                        calcThisDocWorker = item.workerList.Where(w => w.drStatus is null || !w.drStatus.StartsWith(GlobalVariable.StatusRejected)).Count();
                                        if (minuteED < minuteST)
                                        {
                                            sumThisDocOTMinute = ((((24 * 60) - minuteST) + minuteED) * calcThisDocWorker);
                                        }
                                        else
                                        {
                                            sumThisDocOTMinute = ((minuteED - minuteST) * calcThisDocWorker);
                                        }
                                        string minuteString = sumThisDocOTMinute % 60 == 0 ? "" : (sumThisDocOTMinute % 60).ToString() + " นาที";
                                        sumThisDocHour = (sumThisDocOTMinute / 60).ToString() + " ชั่วโมง " + minuteString;


#line default
#line hidden
            BeginContext(15066, 86, true);
            WriteLiteral("                                        <div class=\"d-flex fs-14 item-center docno\">\r\n");
            EndContext();
#line 172 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                             if (permission.ToUpper() == GlobalVariable.perAdmin.ToUpper() || position.ToUpper() == GlobalVariable.spDM)
                                            {

#line default
#line hidden
            BeginContext(15353, 207, true);
            WriteLiteral("                                                <div class=\"d-flex flex-dir-row hy-100 py-0 ms-4\">\r\n                                                    <input type=\"checkbox\" class=\"w-rem-1 h-rem-1 chck-doc\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 15560, "\"", 15591, 1);
#line 175 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 15568, item.requestOT.mrNoReq, 15568, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(15592, 61, true);
            WriteLiteral(" />\r\n                                                </div>\r\n");
            EndContext();
#line 177 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                            }

#line default
#line hidden
            BeginContext(15700, 233, true);
            WriteLiteral("                                            <div class=\"wx-100 px-3 py-2\">\r\n                                                <div class=\"d-flex dropend text-gray\">\r\n                                                    <span>เลขอ้างอิง ");
            EndContext();
            BeginContext(15934, 22, false);
#line 180 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                Write(item.requestOT.mrNoReq);

#line default
#line hidden
            EndContext();
            BeginContext(15956, 514, true);
            WriteLiteral(@"</span>
                                                    <button type=""button"" data-bs-toggle=""dropdown"" class=""bd-0 bg-trans text-blue"" aria-expanded=""false"" style=""display: block;""><span class=""material-icon-symbols-outlined"">more_vert</span></button>
                                                    <ul class=""w-fix-100p manage dropdown-menu"">
                                                        <li class=""my-1 manage border-rad bd-0""><button class=""bd-0 bg-trans wx-100 text-left text-gray view""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 16470, "\"", 16501, 1);
#line 183 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 16478, item.requestOT.mrNoReq, 16478, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(16502, 155, true);
            WriteLiteral(" data-bs-toggle=\"modal\" data-bs-target=\"#modalViewDetail\"><span class=\"pe-1 text-blue material-icon-symbols-outlined\">info</span>รายละเอียด</button></li>\r\n");
            EndContext();
#line 184 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                         if (permission.ToUpper() == GlobalVariable.perAdmin.ToUpper())
                                                        {

#line default
#line hidden
            BeginContext(16837, 161, true);
            WriteLiteral("                                                            <li class=\"my-1 manage border-rad bd-0\"><button class=\"bd-0 bg-trans wx-100 text-left text-gray edit\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 16998, "\"", 17029, 1);
#line 186 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 17006, item.requestOT.mrNoReq, 17006, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(17030, 157, true);
            WriteLiteral(" data-bs-toggle=\"modal\" data-bs-target=\"#modalViewDetail\"><span class=\"pe-1 text-blue material-icon-symbols-outlined\">edit_square</span>แก้ไข</button></li>\r\n");
            EndContext();
#line 187 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                        }

#line default
#line hidden
            BeginContext(17246, 332, true);
            WriteLiteral(@"                                                    </ul>
                                                </div>


                                                <div class=""card mb-3"">
                                                    <div class=""card-body"" role=""button"" data-bs-toggle=""collapse"" data-bs-target=""#collapse");
            EndContext();
            BeginContext(17580, 22, false);
#line 193 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                                                                        Write(item.requestOT.mrNoReq);

#line default
#line hidden
            EndContext();
            BeginContext(17603, 23, true);
            WriteLiteral("\" aria-expanded=\"false\"");
            EndContext();
            BeginWriteAttribute("aria-controls", " aria-controls=\"", 17626, "\"", 17677, 2);
            WriteAttributeValue("", 17642, "collapseSub_", 17642, 12, true);
#line 193 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 17654, item.requestOT.mrNoReq, 17654, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(17678, 306, true);
            WriteLiteral(@">
                                                        <div class=""d-flex flex-dir-row flex-wrap fs-10 text-gray justify-beetween"">
                                                            <div class=""px-1"">
                                                                <label class=""px-1"">OT : ");
            EndContext();
            BeginContext(17985, 23, false);
#line 196 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                    Write(item.requestOT.mrOTDate);

#line default
#line hidden
            EndContext();
            BeginContext(18008, 108, true);
            WriteLiteral("</label>\r\n                                                                <label class=\"px-1\">ไลน์การผลิต : ");
            EndContext();
            BeginContext(18117, 31, false);
#line 197 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                             Write(item.requestOT.mrProductionLine);

#line default
#line hidden
            EndContext();
            BeginContext(18148, 229, true);
            WriteLiteral("</label>\r\n                                                            </div>\r\n                                                            <div class=\"px-1\">\r\n                                                                <label>");
            EndContext();
            BeginContext(18378, 14, false);
#line 200 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                  Write(sumThisDocHour);

#line default
#line hidden
            EndContext();
            BeginContext(18392, 313, true);
            WriteLiteral(@"</label>
                                                            </div>
                                                        </div>
                                                        <div class=""steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x py-3 padding-bottom-1x"">
");
            EndContext();
#line 204 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                             foreach (var step in Model.mastFlow.Where(w => w.mfFlowNo == item.requestOT.mrFlow))
                                                            {
                                                                string[] capture = step.mfSubject.Split("_");
                                                                string rejected = item.stepHistory.Where(w => w.htStep == step.mfStep.Value).FirstOrDefault() is null ? "" : item.stepHistory.Where(w => w.htStep == step.mfStep.Value).FirstOrDefault().htStatus;
                                                                string hisFromName = item.stepHistory.Where(w => w.htStep == step.mfStep).FirstOrDefault() is null ? "" : item.stepHistory.Where(w => w.htStep == step.mfStep).FirstOrDefault().htFrom;

#line default
#line hidden
            BeginContext(19535, 68, true);
            WriteLiteral("                                                                <div");
            EndContext();
            BeginWriteAttribute("class", " class=\"", 19603, "\"", 19751, 2);
            WriteAttributeValue("", 19611, "step", 19611, 4, true);
#line 209 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue(" ", 19615, item.requestOT.mrStep.Value >= step.mfStep.Value ? "completed" : rejected.StartsWith(GlobalVariable.StatusRejected) ? "rejected": "", 19616, 135, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(19752, 208, true);
            WriteLiteral(">\r\n                                                                    <div class=\"step-icon-wrap fs-12\">\r\n                                                                        <div class=\"step-icon\"><span>");
            EndContext();
            BeginContext(19961, 11, false);
#line 211 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                                Write(step.mfStep);

#line default
#line hidden
            EndContext();
            BeginContext(19972, 256, true);
            WriteLiteral(@"</span></div>
                                                                    </div>
                                                                    <h4 class=""step-title"">
                                                                        ");
            EndContext();
            BeginContext(20229, 10, false);
#line 214 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                   Write(capture[0]);

#line default
#line hidden
            EndContext();
            BeginContext(20239, 93, true);
            WriteLiteral("\r\n                                                                        <div class=\"fs-10\">");
            EndContext();
            BeginContext(20334, 166, false);
#line 215 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                                                       Write((item.requestOT.mrStep.Value + 1) == step.mfStep.Value ? "โดย คุณ" + item.requestOT.mrNameApp : hisFromName != "" ? hisFromName : capture.Length > 1 ? capture[1] : "");

#line default
#line hidden
            EndContext();
            BeginContext(20501, 155, true);
            WriteLiteral("</div>\r\n                                                                    </h4>\r\n                                                                </div>\r\n");
            EndContext();
#line 218 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                            }

#line default
#line hidden
            BeginContext(20719, 309, true);
            WriteLiteral(@"                                                        </div>
                                                    </div>

                                                    <div class=""category"">
                                                        <div class=""border-rad bg-white px-3 py-3 collapse""");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 21028, "\"", 21066, 2);
            WriteAttributeValue("", 21033, "collapse", 21033, 8, true);
#line 223 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 21041, item.requestOT.mrNoReq, 21041, 25, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(21067, 445, true);
            WriteLiteral(@">
                                                            <div class=""d-flex justify-beetween"">
                                                                <div class=""d-flex flex-dir-row flex-wrap my-1 worker-control"">
                                                                    <div class=""d-flex flex-dir-row justify-center mx-2"">
                                                                        <input type=""radio""");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 21512, "\"", 21545, 2);
            WriteAttributeValue("", 21517, "rdoA_", 21517, 5, true);
#line 227 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 21522, item.requestOT.mrNoReq, 21522, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 21546, "\"", 21580, 2);
            WriteAttributeValue("", 21553, "rdo_", 21553, 4, true);
#line 227 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 21557, item.requestOT.mrNoReq, 21557, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(21581, 167, true);
            WriteLiteral(" class=\"form-check-input my-0 checked\" />\r\n                                                                        <label class=\"text-gray fs-16 form-check-label mx-1\"");
            EndContext();
            BeginWriteAttribute("for", " for=\"", 21748, "\"", 21782, 2);
            WriteAttributeValue("", 21754, "rdoA_", 21754, 5, true);
#line 228 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 21759, item.requestOT.mrNoReq, 21759, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(21783, 308, true);
            WriteLiteral(@">ทั้งหมด</label>
                                                                    </div>
                                                                    <div class=""d-flex flex-dir-row justify-center mx-2"">
                                                                        <input type=""radio""");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 22091, "\"", 22125, 2);
            WriteAttributeValue("", 22096, "rdoRA_", 22096, 6, true);
#line 231 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 22102, item.requestOT.mrNoReq, 22102, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 22126, "\"", 22160, 2);
            WriteAttributeValue("", 22133, "rdo_", 22133, 4, true);
#line 231 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 22137, item.requestOT.mrNoReq, 22137, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(22161, 167, true);
            WriteLiteral(" class=\"form-check-input my-0 uncheck\" />\r\n                                                                        <label class=\"text-gray fs-16 form-check-label mx-1\"");
            EndContext();
            BeginWriteAttribute("for", " for=\"", 22328, "\"", 22363, 2);
            WriteAttributeValue("", 22334, "rdoRA_", 22334, 6, true);
#line 232 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
WriteAttributeValue("", 22340, item.requestOT.mrNoReq, 22340, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(22364, 1181, true);
            WriteLiteral(@">ยกเลิกทั้งหมด</label>
                                                                    </div>
                                                                </div>
                                                                <div class=""worker-manage"">
                                                                    <button class=""btn btn-light px-0 py-0 gray-sm text-gray border-circle btnApprove"" data-bs-target=""#modalEmailForm"" data-bs-toggle=""modal"" title=""อนุมัติ""><span class=""material-icon-symbols-outlined"">check</span></button>
                                                                    <button class=""btn btn-light px-0 py-0 gray-sm text-black border-circle btnReject"" data-bs-target=""#modalEmailForm"" data-bs-toggle=""modal"" title=""ไม่อนุมัติ""><span class=""material-icon-symbols-outlined"">close</span></button>
                                                                </div>
                                                            </div>
                                  ");
            WriteLiteral("                          <div class=\"d-flex flex-dir-row flex-wrap pt-1 workers-category\">\r\n                                                                ");
            EndContext();
            BeginContext(23546, 53, false);
#line 241 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                                           Write(await Html.PartialAsync("Category/_CateWorker", item));

#line default
#line hidden
            EndContext();
            BeginContext(23599, 350, true);
            WriteLiteral(@"
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
");
            EndContext();
#line 248 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                    }

#line default
#line hidden
#line 248 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                                     
                                }

#line default
#line hidden
            BeginContext(24023, 36, true);
            WriteLiteral("                            </div>\r\n");
            EndContext();
#line 251 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                        }

#line default
#line hidden
            BeginContext(24086, 56, true);
            WriteLiteral("                    </div>\r\n                    </div>\r\n");
            EndContext();
#line 254 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                    }
                }
                else
                {

#line default
#line hidden
            BeginContext(24225, 82, true);
            WriteLiteral("                    <h6 class=\"bg-trans\">ยังไม่มีรายการใดมาถึงขั้นตอนของคุณ</h6>\r\n");
            EndContext();
#line 259 "C:\Users\t0015142\OneDrive - STANLEY ELECTRIC CO., LTD\Desktop\Work\MVC Project\CostEstimate\CostEstimate\Views\Approval\_DisplayNewlate.cshtml"
                }

#line default
#line hidden
            BeginContext(24326, 56, true);
            WriteLiteral("            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<CostEstimate.Models.Approval.MultiNewLate> Html { get; private set; }
    }
}
#pragma warning restore 1591
